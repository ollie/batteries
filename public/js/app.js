// Generated by CoffeeScript 2.4.1
(function() {
  var Confirm;

  Confirm = class Confirm {
    constructor() {
      var $items;
      this._handleClick = this._handleClick.bind(this);
      $items = $('[data-confirm]');
      $items.on('click', this._handleClick);
    }

    _handleClick(e) {
      var $item, message;
      $item = $(e.currentTarget);
      message = $item.data('confirm');
      if (message && !confirm(message)) {
        return e.preventDefault();
      }
    }

  };

  $(function() {
    new Confirm;
    $('.js-draggable').draggable({
      // revert: true
      revertDuration: 200
    });
    return $('.js-droppable').droppable({
      accept: '.js-draggable',
      tolerance: 'intersect',
      drop: function(e, ui) {
        var $battery, $slot, batteryId, url;
        $slot = $(this);
        $battery = ui.draggable;
        batteryId = $battery.data('id');
        url = $slot.data('accept-url');
        url = url.replace(':battery_id', batteryId);
        return window.location = url;
      }
    });
  });

}).call(this);
